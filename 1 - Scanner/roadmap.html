<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>QubitGrid™ — Roadmap</title>

  <!-- >>> INSERT: CORE DARK THEME (BEGIN) -->
  <style>
    :root {
      --bg: #0b1220;
      --panel: #111827;
      --fg: #e8eef6;
      --muted: #9aa7b8;
      --line: #233044;
      --accent: #0b5bd7;
      --accent-600: #0a51c2;
      --focus: #93c5fd;
      --chip-ok: #10b981;
      --chip-warn: #f59e0b;
      --chip-danger: #ef4444;
      --chip-team: #2563eb;
      --chip-enterprise: #6b7280;
      --chip-indie: #6366f1;
      --chip-pro: #f59e0b;

      /* Lovable Theme Tokens */
      --background: 0 0% 100%;
      --muted-token: 210 40% 96.1%;
      --foreground: 222.2 84% 4.9%;

      /* Enterprise Light Function Tokens */
      --surface-bg: rgba(255, 255, 255, 0.88);
      --surface-border: rgba(2, 6, 23, 0.08);
      --surface-text: #0f172a;
      --surface-muted: rgba(2, 6, 23, 0.70);
      --surface-shadow: 0 14px 40px rgba(2, 6, 23, 0.10);
      --surface-radius: 16px;
      --surface-pattern-opacity: 0.10;
      --circuit-svg: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' stroke='%234338ca' stroke-width='0.8'%3E%3Cpath d='M15 0v15l5 5h20M85 0v15l-5 5H60M15 100v-15l5-5h20M85 100v-15l-5-5H60'/%3E%3Cpath d='M0 15h15l5 5v20M100 15h-15l-5 5v20M0 85h15l5-5v-20M100 85h-15l-5-5v-20'/%3E%3Ccircle cx='50' cy='50' r='8' stroke-width='0.5'/%3E%3Ccircle cx='50' cy='50' r='4' stroke-width='0.5'/%3E%3Ccircle cx='50' cy='50' r='2' fill='%234338ca'/%3E%3Cpath d='M50 15v20M50 65v20M15 50h20M65 50h20'/%3E%3Ccircle cx='15' cy='15' r='2' fill='%234338ca'/%3E%3Ccircle cx='85' cy='15' r='2' fill='%234338ca'/%3E%3Ccircle cx='15' cy='85' r='2' fill='%234338ca'/%3E%3Ccircle cx='85' cy='85' r='2' fill='%234338ca'/%3E%3Cpath d='M15 50h5l3-3h14l3 3M60 50h5l3-3h14l3 3M50 15v5l-3 3v14l3 3M50 60v5l-3 3v14l3 3' opacity='0.7'/%3E%3C/g%3E%3Cg fill='none' stroke='%234338ca' stroke-width='0.3' opacity='0.4'%3E%3Cpath d='M0 0l100 100M100 0l-100 100'/%3E%3C/g%3E%3C/svg%3E");
    }

    html,
    body {
      min-height: 100%;
    }

    body {
      margin: 0;
      background-image: linear-gradient(to bottom, hsl(var(--background)), hsl(var(--muted-token) / 0.5));
      background-attachment: fixed;
      font-family: Inter, system-ui, Segoe UI, Arial, sans-serif;
      letter-spacing: 0.02em;
      line-height: 1.5;
    }

    body::before {
      content: "";
      position: fixed;
      inset: 0;
      pointer-events: none;
      opacity: 0.10;
      background-image: var(--circuit-svg);
      background-size: 100px 100px;
      z-index: 0;
    }

    a {
      color: #0b5bd7;
      text-decoration: none
    }

    a:hover {
      text-decoration: underline
    }

    .wrap {
      position: relative;
      z-index: 1;
      max-width: 1160px;
      margin: 40px auto;
      padding: 0 16px
    }

    .head {
      background: var(--surface-bg);
      border-bottom: 1px solid var(--surface-border);
      padding: 16px;
      margin: -16px -16px 24px -16px;
      /* pull out to edges if needed, or just standard box */
      border-radius: var(--surface-radius);
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 18px;
      position: relative;
      overflow: hidden;
    }

    .head::before {
      content: "";
      position: absolute;
      inset: 0;
      pointer-events: none;
      background-image: var(--circuit-svg);
      background-size: 100px 100px;
      opacity: var(--surface-pattern-opacity);
      z-index: 0;
    }

    .head>* {
      position: relative;
      z-index: 1;
    }

    .title {
      font-size: 28px;
      font-weight: 800;
      line-height: 1.2;
      color: var(--accent);
    }

    .tag {
      display: inline-block;
      border: 1px solid var(--surface-border);
      background: var(--surface-bg);
      color: var(--surface-text);
      padding: 4px 8px;
      border-radius: 999px;
      font-size: 12px;
      margin-left: 8px
    }

    nav[aria-label] {
      display: flex;
      gap: 14px
    }

    nav[aria-label] a {
      padding: 6px 8px;
      border-radius: 8px;
      color: var(--accent);
    }

    .card {
      background: var(--surface-bg);
      color: var(--surface-text);
      border: 1px solid var(--surface-border);
      box-shadow: var(--surface-shadow);
      border-radius: var(--surface-radius);
      padding: 18px;
      margin: 18px 0;
      position: relative;
      overflow: hidden;
    }

    .card::before {
      content: "";
      position: absolute;
      inset: 0;
      pointer-events: none;
      background-image: var(--circuit-svg);
      background-size: 100px 100px;
      opacity: var(--surface-pattern-opacity);
      z-index: 0;
    }

    .card>* {
      position: relative;
      z-index: 1;
    }

    .grid {
      display: grid;
      gap: 16px;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      align-items: start
    }

    .phase h3 {
      margin: 2px 0 8px
    }

    .pill {
      display: inline-block;
      font-size: 11px;
      padding: 2px 6px;
      border-radius: 999px;
      border: 1px solid var(--surface-border);
      background: var(--surface-bg);
      margin-left: 8px
    }

    .ok {
      color: #10b981;
      border-color: #10b981;
      background: #ecfdf5
    }

    .todo {
      color: var(--surface-muted);
      border-color: var(--surface-border);
      background: var(--surface-bg)
    }

    .eta {
      font-size: 12px;
      color: var(--surface-muted);
      margin: 4px 0 8px
    }

    ul {
      margin: 8px 0 12px 18px
    }

    .btn {
      display: inline-block;
      padding: 10px 14px;
      border-radius: 10px;
      border: 1px solid var(--surface-border);
      background: var(--surface-bg);
      color: var(--surface-text);
      font-weight: 700;
      cursor: pointer
    }

    .btn:hover {
      border-color: var(--accent);
      color: var(--accent)
    }

    .btn-primary {
      background: var(--accent);
      color: #fff;
      border-color: var(--accent)
    }

    .btn-primary:hover {
      background: var(--accent-600);
      border-color: var(--accent-600)
    }

    .btn-small {
      padding: 8px 12px;
      font-size: .9rem
    }

    .tier {
      display: inline-block;
      padding: 4px 8px;
      margin-right: 6px;
      border-radius: 8px;
      font-size: 12px;
      font-weight: 600;
      color: #fff
    }

    .free {
      background: var(--chip-ok);
      color: #fff;
    }

    .indie {
      background: var(--chip-indie)
    }

    .pro {
      background: var(--chip-pro)
    }

    .team {
      background: var(--chip-team)
    }

    .enterprise {
      background: var(--chip-enterprise)
    }

    .lifetime {
      background: var(--chip-danger)
    }

    .quota-pill {
      display: inline-block;
      padding: 6px 10px;
      border-radius: 999px;
      background: #fff;
      border: 1px solid var(--surface-border);
      color: var(--surface-text);
      font-size: 12px;
      font-weight: 600
    }

    /* Modal overlay + blur */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.45);
      backdrop-filter: blur(6px);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      animation: fadeIn .3s ease forwards;
    }

    .modal {
      background: var(--surface-bg);
      border: 1px solid var(--surface-border);
      box-shadow: var(--surface-shadow);
      color: var(--surface-text);
      border-radius: var(--surface-radius);
      padding: 20px;
      max-width: 420px;
      width: 90%;
      position: relative;
      overflow: hidden;
    }

    .modal::before {
      content: "";
      position: absolute;
      inset: 0;
      pointer-events: none;
      background-image: var(--circuit-svg);
      background-size: 100px 100px;
      opacity: var(--surface-pattern-opacity);
      z-index: 0;
    }

    .modal>* {
      position: relative;
      z-index: 1;
    }

    .modal h3 {
      margin-top: 0;
      margin-bottom: 10px
    }

    .modal form {
      display: flex;
      flex-direction: column;
      gap: 10px
    }

    .modal input,
    .modal textarea {
      border: 1px solid var(--surface-border);
      border-radius: 8px;
      background: #fff;
      color: var(--surface-text);
      padding: 8px 10px;
      font-size: 14px
    }

    .modal button {
      margin-top: 6px
    }

    .success-msg {
      display: none;
      text-align: center;
      color: #6be59b;
      margin-top: 10px
    }

    @keyframes fadeIn {
      from {
        opacity: 0
      }

      to {
        opacity: 1
      }
    }
  </style>
  <!-- <<< INSERT: CORE DARK THEME (END) -->
</head>

<body>
  <div class="wrap">
    <!-- >>> HEADER (BEGIN) -->
    <header class="head">
      <div class="title">QubitGrid™ Roadmap<span class="tag">Live Progress</span></div>
      <nav aria-label="Primary">
        <a href="/">Home</a>
        <a href="/roadmap" aria-current="page">Roadmap</a>
        <a href="/pricing">Pricing</a>
        <a href="/docs">Docs</a>
        <a href="/quickstart">Quickstart</a>
      </nav>
    </header>
    <!-- <<< HEADER (END) -->

    <!-- >>> INTRO (BEGIN) -->
    <section class="card">
      <h2 style="margin:0 0 12px;font-size:18px;">Module Status & Pricing</h2>

      <table style="width:100%;text-align:left;font-size:13px;margin-bottom:16px;color:#c6d1de">
        <tr>
          <th style="color:var(--muted)">Module</th>
          <th style="color:var(--muted)">Status</th>
        </tr>
        <tr>
          <td>Prompt Injection Scanner</td>
          <td style="color:#6be59b">Live</td>
        </tr>
        <tr>
          <td>Privacy Redactor</td>
          <td style="color:#9aa7b8">Planned</td>
        </tr>
        <tr>
          <td>Audit Logger</td>
          <td style="color:#9aa7b8">Planned</td>
        </tr>
        <tr>
          <td>PQC Checker</td>
          <td style="color:#9aa7b8">Planned</td>
        </tr>
      </table>

      <p style="margin:0;font-size:13px;line-height:1.5">
        <strong>How pricing evolves</strong><br>
        Plans provide platform access. Modules are capabilities. Today, plans map to the Prompt Injection Scanner. As
        new modules ship, they will be included in higher tiers or offered as add-ons. You keep one account, one billing
        relationship, and one dashboard.
      </p>
    </section>
    <!-- <<< INTRO (END) -->

    <!-- >>> INSERT: PLANS & LIMITS CARD (ENHANCED BEGIN) -->
    <h2 style="font-size:20px;margin:10px 0 6px">Plans &amp; Limits</h2>
    <section class="card" style="padding:14px">
      <!-- top row chips injected dynamically -->
      <div id="tierLimits" style="display:none;gap:8px;flex-wrap:wrap;align-items:center"></div>

      <!-- info note and fair-use tag -->
      <p class="foot" style="font-size:12px;color:var(--muted);margin-top:6px">
        “Custom” = negotiated limits • <span title="One scan equals a single prompt analysis through the API.">ℹ️ A scan
          = one prompt evaluation</span><br />
        Fair-use policy applies to Lifetime (unlimited) plans, it's designed for individual or small-team use;
        large-scale automated operations may require Enterprise.
      </p>

      <!-- compare-tiers link -->
      <p style="margin:8px 0 0;font-size:13px;">
        <a href="/pricing" style="color:var(--accent);font-weight:600">Compare all tiers →</a>
      </p>

      <!-- optional progress indicator (kept commented for later) -->
      <!-- <div class="progress" style="height:6px;background:#1b2233;border-radius:4px;margin-top:8px">
       <div style="width:25%;background:var(--accent);height:6px;border-radius:4px"></div></div> -->
    </section>
    <!-- <<< INSERT: PLANS & LIMITS CARD (ENHANCED END) -->


    <!-- >>> ROADMAP PHASES (BEGIN) -->
    <section class="grid">
      <!-- PHASE 1 -->
      <!-- >>> INSERT: PHASE UPDATES — PHASE 1 (BEGIN) -->
      <article class="card phase">
        <h3>Phase 1 — Guardrails Launch <span class="pill ok">DONE</span></h3>
        <div><span class="tier free">Free</span> <span class="tier indie">Indie</span></div>
        <div class="eta"><span class="js-limit" data-tier="Free">Free: …</span> • <span class="js-limit"
            data-tier="Indie">Indie: …</span></div>

        <!-- Headline USP (short + tooltip explains depth) -->
        <ul>
          <li
            title="Continuously expanding detection engine combining pattern matching, semantic context, and threat-intelligence scoring.">
            <strong>Adaptive rule engine with real-time threat scoring</strong>
          </li>
          <li>Slack/Discord alerts on high-severity findings</li>
          <li>Latency & telemetry for performance insight</li>
        </ul>

        <!-- Extra value line (Phase 1 PDF = watermark) -->
        <p class="muted" style="margin:6px 0 0 0">
          Includes auto-generated, <em>watermark-protected</em> PDF reports for compliance documentation.
        </p>

        <div class="cta">
          <button class="btn btn-small" onclick="window.location.href='/'">Try Scanner</button>
          <button class="btn btn-small" data-checkout="lifetime" type="button">Limited-Time Lifetime</button>
        </div>
      </article>
      <!-- <<< INSERT: PHASE UPDATES — PHASE 1 (END) -->



      <!-- PHASE 2 -->
      <!-- >>> INSERT: PHASE UPDATES — PHASE 2 (BEGIN) -->
      <article class="card phase">
        <h3>Phase 2 — Hybrid Intelligence <span class="pill todo">IN PROGRESS</span></h3>
        <div><span class="tier pro">Pro</span> <span class="tier indie">Indie</span> <span
            class="tier lifetime">Lifetime</span></div>
        <div class="eta"><span class="js-limit" data-tier="Pro">Pro: …</span> • <span class="js-limit"
            data-tier="Indie">Indie: …</span> • <span class="js-limit" data-tier="Lifetime">Lifetime: …</span></div>

        <ul>
          <!-- Data-centric phrasing + tooltip -->
          <li
            title="Models tuned on known prompt-abuse patterns and evolving incident data; curated rules provide precision, ML adds adaptability.">
            <strong>Hybrid AI detection: curated threat patterns + data-driven models</strong>
          </li>
          <li>Analytics dashboard (severity trends, rule hit rates)</li>
          <li>Batch export with <strong>pre-audit readiness PDF (no watermark)</strong></li>
        </ul>

        <p class="muted" style="margin:6px 0 0 0">
          Early adaptive learning continually improves detection accuracy over time.
        </p>

        <div class="cta">
          <button class="btn btn-primary" data-checkout="indie" type="button">Indie Plan (Early)</button>
          <button class="btn btn-primary" data-checkout="pro" type="button">Buy Pro</button>
        </div>

      </article>
      <!-- <<< INSERT: PHASE UPDATES — PHASE 2 (END) -->

      <!-- <<< INSERT: PHASE UPDATES — PHASE 2 (END) -->


      <!-- PHASE 3 -->
      <!-- >>> INSERT: PHASE UPDATES — PHASE 3 (BEGIN) -->
      <article class="card phase">
        <h3>Phase 3 — Enterprise Compliance Intelligence <span class="pill todo">PLANNED</span></h3>
        <div><span class="tier team">Team</span> <span class="tier enterprise">Enterprise</span></div>
        <div class="eta"><span class="js-limit" data-tier="Team">Team: …</span> • <span class="js-limit"
            data-tier="Enterprise">Enterprise: …</span></div>

        <ul>
          <li
            title="Enterprise-grade modules for privacy, audit logging, and post-quantum cryptography policy validation.">
            <strong>Unified compliance suite for privacy, audit, and PQC readiness</strong>
          </li>
          <li>Privacy Redactor (PII masking pre-LLM)</li>
          <li>Audit Logger (verifiable evidence trails)</li>
          <li>PQC TLS Checker + SSO & data residency controls</li>
        </ul>

        <!-- Clean single italic line per your preference -->
        <p class="muted" style="margin:6px 0 0 0"><em>
            Available as a bundled suite in Enterprise; individual modules offered as Pro add-ons.
          </em></p>

        <div class="cta">
          <button class="btn btn-primary btn-small" data-modal="sales">Contact Sales</button>
        </div>
      </article>
      <!-- <<< INSERT: PHASE UPDATES — PHASE 3 (END) -->

    </section>
    <!-- <<< ROADMAP PHASES (END) -->

    <!-- >>> LIFETIME CTA (BEGIN) -->
    <section id="lifetime" class="card">
      <h3>Limited-Time Lifetime Access</h3>
      <p>Permanent access to all Pro features as they ship. One-time payment $199.</p>
      <div class="cta">
        <button class="btn btn-primary" data-checkout="lifetime" type="button">Get Lifetime ($199)</button>
        <button class="btn" data-checkout="indie" type="button">Indie Plan ($19.99)</button>
      </div>
    </section>
    <!-- <<< LIFETIME CTA (END) -->

    <footer style="font-size:12px;color:var(--muted);margin-top:18px">
      QubitGrid™ provides pre-audit readiness tools only; not a certified audit.
    </footer>
  </div>

  <!-- >>> MODALS (BEGIN) -->
  <!-- CONTACT SALES MODAL -->
  <div id="modal-sales" class="modal-overlay" role="dialog" aria-modal="true" aria-labelledby="salesTitle">
    <div class="modal">
      <h3 id="salesTitle">Contact Sales</h3>
      <form id="form-sales">
        <input type="hidden" name="source" value="Contact Sales" />
        <input type="text" name="name" placeholder="Your name" required />
        <input type="email" name="email" placeholder="Your email" required />
        <textarea name="message" placeholder="Tell us about your needs" rows="4"></textarea>
        <button type="submit" class="btn btn-primary">Send</button>
        <button type="button" class="btn btn-small" data-close>Close</button>
      </form>
      <div class="success-msg" id="sales-success">✅ Message received — thank you!</div>
    </div>
  </div>

  <!-- PARTNER WITH US MODAL -->
  <div id="modal-partner" class="modal-overlay" role="dialog" aria-modal="true" aria-labelledby="partnerTitle">
    <div class="modal">
      <h3 id="partnerTitle">Partner with QubitGrid™</h3>
      <form id="form-partner">
        <input type="hidden" name="source" value="Partner Request" />
        <input type="text" name="name" placeholder="Your name" required />
        <input type="email" name="email" placeholder="Your email" required />
        <textarea name="message" placeholder="Describe your partnership idea" rows="4"></textarea>
        <button type="submit" class="btn btn-primary">Send</button>
        <button type="button" class="btn btn-small" data-close>Close</button>
      </form>
      <div class="success-msg" id="partner-success">✅ Message received — thank you!</div>
    </div>
  </div>
  <!-- <<< MODALS (END) -->

  <!-- >>> SCRIPTS SECTION (BEGIN) -->
  <script>
    /* ============================================================
       FETCH LIVE LIMITS FROM /pricing (auto-updates chips)
       ============================================================ */
    (function () {
      const topRow = document.getElementById('tierLimits');
      function chip(label, val) { return `<span class="quota-pill">${label}: ${val}</span>`; }
      fetch('/pricing')
        .then(r => r.ok ? r.json() : null)
        .then(data => {
          if (!data || !data.model || !Array.isArray(data.model.tiers)) return;
          const limits = {};
          for (const t of data.model.tiers) {
            const name = String(t.name || '').trim().toLowerCase();
            const lim = t.scan_limit_per_day;
            limits[name] = typeof lim === 'number' ? lim.toLocaleString() + '/day' : lim;
          }
          const order = ['Free', 'Indie', 'Pro', 'Team', 'Enterprise', 'Lifetime'];
          topRow.style.display = 'flex';
          topRow.innerHTML = order.map(n => chip(n, limits[n.toLowerCase()] || '—')).join(' ');
          document.querySelectorAll('.js-limit[data-tier]').forEach(el => {
            const tier = (el.getAttribute('data-tier') || '').toLowerCase();
            el.textContent = `${el.getAttribute('data-tier')}: ${limits[tier] || '—'}`;
          });
        }).catch(() => { });
    })();

    /* ============================================================
       STRIPE FRONTEND REDIRECTS
       ============================================================ */
    async function startCheckout(endpoint) {
      const btn = document.activeElement;
      try {
        if (btn && btn.tagName === 'BUTTON') btn.disabled = true;
        const res = await fetch(endpoint, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({}) });
        if (!res.ok) {
          const err = await res.json().catch(() => ({}));
          alert(err?.detail || `Checkout failed (${res.status})`);
          if (btn) btn.disabled = false; return;
        }
        const data = await res.json();
        if (!data?.url) { alert('Checkout failed: no URL returned.'); if (btn) btn.disabled = false; return; }
        window.location.href = data.url;
      } catch (e) {
        alert('Network error starting checkout. Please try again.');
        if (btn) btn.disabled = false;
      }
    }
    // attach to all buttons with data-checkout
    document.querySelectorAll('[data-checkout]').forEach(el => {
      const plan = el.getAttribute('data-checkout');
      let endpoint = '';
      if (plan === 'indie') endpoint = '/buy/indie';
      else if (plan === 'pro') endpoint = '/buy/pro';
      else if (plan === 'lifetime') endpoint = '/buy/lifetime';
      if (endpoint) el.addEventListener('click', () => startCheckout(endpoint));
    });


    /* ============================================================
       MODAL LOGIC (Contact Sales & Partner With Us)
       ============================================================ */
    const modals = document.querySelectorAll('.modal-overlay');
    const openers = document.querySelectorAll('[data-modal]');
    const closeBtns = document.querySelectorAll('[data-close]');

    // open modal
    openers.forEach(btn => {
      const id = btn.getAttribute('data-modal');
      btn.addEventListener('click', () => {
        document.getElementById(`modal-${id}`).style.display = 'flex';
      });
    });
    // close modal
    closeBtns.forEach(btn => {
      btn.addEventListener('click', () => btn.closest('.modal-overlay').style.display = 'none');
    });
    // close on Esc
    document.addEventListener('keydown', e => {
      if (e.key === 'Escape') modals.forEach(m => m.style.display = 'none');
    });

    /* --- Form submissions (POST /feedback, fade out after 6 s) --- */
    async function sendForm(formId, successId) {
      const form = document.getElementById(formId);
      const success = document.getElementById(successId);
      form.addEventListener('submit', async e => {
        e.preventDefault();
        const data = Object.fromEntries(new FormData(form));
        try {
          await fetch('/feedback', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(data) });
          success.style.display = 'block';
          setTimeout(() => { success.style.display = 'none'; form.closest('.modal-overlay').style.display = 'none'; form.reset(); }, 6000);
        } catch { alert('Network error — please try again later.'); }
      });
    }
    sendForm('form-sales', 'sales-success');
    sendForm('form-partner', 'partner-success');
    /* ============================================================ */
  </script>
  <!-- <<< SCRIPTS SECTION (END) -->
</body>

</html>